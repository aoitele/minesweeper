<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
    </head>
    <body>
        <div id="app"></div>
        <style>
        </style>
        <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
        <script>

        const render = (board) =>{
          // DOMを破棄して再構築
          $('#app').empty(); 
          let html ='';
          board.forEach(row => {
            html += `<div class="row">`
              row.forEach(block => {
                html += `<div class="block"/>`
              },
            html += `</div>`
              )};
        };

        setInterval(() => {
      // 0.5秒ごとにサーバーにポーリング
        $.getJSON('/board', render);
          }, 500);

        $('.block').click(function() {
          // xとyを算出する
          $.getJSON('/board', {
            x: x,
            y: y,
            user: user,
          }, render);
        });


        </script>
    </body>
</html>